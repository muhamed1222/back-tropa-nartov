/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç—É—Ä–∏–∑–º–∞ –≤ Strapi
 * –ó–∞–ø—É—Å–∫: node scripts/add-categories.js
 */

const categories = [
  {
    name: '–≠–∫–æ—Ç—É—Ä–∏–∑–º',
    description: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤ –ø—Ä–∏—Ä–æ–¥—É —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ–º –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â—É—é —Å—Ä–µ–¥—É',
    icon: 'üåø',
    order: 1
  },
  {
    name: '–ì–∞—Å—Ç—Ä–æ—Ç—É—Ä–∏–∑–º',
    description: '–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –º–µ—Å—Ç–Ω–æ–π –∫—É—Ö–Ω–µ–π –∏ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã–º–∏ —Ç—Ä–∞–¥–∏—Ü–∏—è–º–∏',
    icon: 'üçΩÔ∏è',
    order: 2
  },
  {
    name: '–ê–≥—Ä–æ—Ç—É—Ä–∏–∑–º',
    description: '–û—Ç–¥—ã—Ö –≤ —Å–µ–ª—å—Å–∫–æ–π –º–µ—Å—Ç–Ω–æ—Å—Ç–∏ —Å —É—á–∞—Å—Ç–∏–µ–º –≤ —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
    icon: 'üåæ',
    order: 3
  },
  {
    name: '–ò—Å—Ç–æ—Ä–∏–∫–æ-–∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Ç—É—Ä–∏–∑–º',
    description: '–ü–æ—Å–µ—â–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π',
    icon: 'üèõÔ∏è',
    order: 4
  },
  {
    name: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Ç—É—Ä–∏–∑–º',
    description: '–¢—É—Ä–∏–∑–º —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º —Ä–∏—Å–∫–∞ –∏ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞',
    icon: 'ü™Ç',
    order: 5
  },
  {
    name: '–ê–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä–∏–∑–º',
    description: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è —Å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é: –ø–µ—à–∏–µ –ø–æ—Ö–æ–¥—ã, –≤–µ–ª–æ—Ç—É—Ä—ã',
    icon: 'üö¥',
    order: 6
  },
  {
    name: '–ì–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π —Ç—É—Ä–∏–∑–º',
    description: '–û—Ç–¥—ã—Ö –Ω–∞ –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã—Ö –∫—É—Ä–æ—Ä—Ç–∞—Ö',
    icon: '‚õ∑Ô∏è',
    order: 7
  },
  {
    name: '–ö—É—Ä–æ—Ä—Ç–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç—É—Ä–∏–∑–º',
    description: '–û—Ç–¥—ã—Ö —Å —Ü–µ–ª—å—é –æ–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏—è –∏ –ª–µ—á–µ–Ω–∏—è',
    icon: 'üíÜ',
    order: 8
  },
  {
    name: '–£—Ä–±–∞–Ω-—Ç—É—Ä–∏–∑–º',
    description: '–ò–∑—É—á–µ–Ω–∏–µ –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—Ä–µ–¥—ã –∏ –∫—É–ª—å—Ç—É—Ä—ã',
    icon: 'üèôÔ∏è',
    order: 9
  },
  {
    name: '–°–µ–ª—å—Å–∫–∏–π —Ç—É—Ä–∏–∑–º',
    description: '–û—Ç–¥—ã—Ö –≤ –¥–µ—Ä–µ–≤–Ω–µ —Å –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ–º –≤ —Å–µ–ª—å—Å–∫–∏–π –±—ã—Ç',
    icon: 'üè°',
    order: 10
  },
  {
    name: '–ê—Ä—Ç-—Ç—É—Ä–∏–∑–º',
    description: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è —Å —Ü–µ–ª—å—é –ø–æ—Å–µ—â–µ–Ω–∏—è –º—É–∑–µ–µ–≤, –≥–∞–ª–µ—Ä–µ–π, —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π',
    icon: 'üé®',
    order: 11
  }
];

async function addCategories() {
  const strapi = require('../src/index.js');
  
  try {
    console.log('üöÄ –ó–∞–ø—É—Å–∫ Strapi...');
    await strapi.start();
    
    console.log('üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...');
    
    for (const category of categories) {
      try {
        const existingCategory = await strapi.entityService.findMany('api::category.category', {
          filters: { name: category.name },
          limit: 1
        });
        
        if (existingCategory && existingCategory.length > 0) {
          console.log(`‚ö†Ô∏è  –ö–∞—Ç–µ–≥–æ—Ä–∏—è "${category.name}" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`);
          continue;
        }
        
        await strapi.entityService.create('api::category.category', {
          data: {
            ...category,
            is_active: true,
            publishedAt: new Date()
          }
        });
        
        console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ${category.name}`);
      } catch (error) {
        console.error(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "${category.name}":`, error.message);
      }
    }
    
    console.log('\nüéâ –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
    process.exit(0);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
    process.exit(1);
  }
}

addCategories();

